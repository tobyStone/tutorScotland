<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Tutors Alliance Scotland - Parent Zone</title>
    <link rel="icon" href="/images/bannerShield2.png" type="image/png">
    <link rel="stylesheet" href="/styles2.css">
    <link rel="stylesheet" href="/header-banner.css">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <script src="/responsive-helper.js"></script>
    <script src="/js/dynamic-nav.js" defer></script>
</head>
<body>
    <!-- Shared banner/header -->
    <header>
        <h1>Tutors Alliance Scotland</h1>
        <div class="header-links">
            <a href="/" class="banner-login-link login-box">Home</a>
            <a href="login.html?role=admin" class="banner-login-link login-box">Login</a>
        </div>
    </header>

    <!-- Dark-blue nav below banner -->
    <nav class="main-nav">
        <ul>
            <li><a href="about-us.html">About Us</a></li>
            <li><a href="tutorMembership.html">Tutor Membership</a></li>
            <li><a href="parents.html">Enter Parent Zone</a></li>
            <li><a href="partnerships.html">Partnerships</a></li>
            <li><a href="contact.html">Contact Us</a></li>
            <li><a href="/blog">Blog</a></li>
            <li><a href="tutorDirectory.html">Tutor Directory</a></li>
        </ul>
    </nav>

    <!-- Rolling banner container -->
    <div class="rolling-banner">
        <div class="rolling-content" id="tutorBanner">
            <!-- JS will populate tutor names/subjects here -->
        </div>
    </div>

    <main>
        <div class="mission-row">
            <!-- LEFT COLUMN: Shield + Ribbons -->
            <div class="left-col">
                <img src="/images/centralShield.png" alt="Large STA Shield" class="main-shield" id="imageShield">
                <img src="/images/bannerWithRibbons.png" alt="Banner Ribbon" class="main-ribbons" id="imageBanner">
            </div>

            <!-- RIGHT COLUMN: heading + about-us text -->
            <div class="right-col">
                <div class="about-us-landing" id="aboutUsLanding">
                    <h1 class="mission-statement">Parent Zone</h1>
                </div>
            </div>
        </div>

        <!-- PARENT INFO: Two-column content -->
        <section class="two-col-content fade-in-section">
            <div>
                <h2>Finding the Right Tutor</h2>
                <p>
                    An area for the parents of students in Scotland. Here you can find a tutor
                    that suits your needs by using our tutor searcher. All our tutors are fully
                    qualified teachers covered by statutory safeguarding guidelines.
                </p>
                <p>
                    We understand that finding the right educational support for your child is crucial.
                    Our directory connects you with qualified, vetted tutors who can provide the
                    personalized attention your child needs to succeed.
                </p>
                <a href="tutorDirectory.html" class="button aurora">Find a Tutor</a>
            </div>
            <div>
                <div class="form-container" style="background-color: #fff; border-radius: 1rem; padding: 2rem; box-shadow: 0 2px 18px rgba(0,87,183,0.05);">
                    <h2 style="color: #001B44; margin-bottom: 1.5rem; text-align: center;">Tutor Finder</h2>
                    <form id="tutorFinderForm" action="/tutors" method="GET" style="display: flex; flex-direction: column; gap: 1.5rem;">
                        <div>
                            <label for="subject" style="display: block; margin-bottom: 0.5rem; font-weight: bold; color: #333;">Subject</label>
                            <select name="subject" id="subject" style="width: 100%; padding: 0.8rem; border: 1px solid #ddd; border-radius: 0.5rem; font-size: 1rem;">
                                <option value="mathematics">Mathematics</option>
                                <option value="english">English</option>
                            </select>
                        </div>

                        <div>
                            <label for="mode" style="display: block; margin-bottom: 0.5rem; font-weight: bold; color: #333;">Location</label>
                            <select name="mode" id="mode" style="width: 100%; padding: 0.8rem; border: 1px solid #ddd; border-radius: 0.5rem; font-size: 1rem;">
                                <option value="online">Online</option>
                                <option value="in-person">In Person</option>
                            </select>
                        </div>

                        <div id="postcodeContainer" style="display: none;">
                            <label for="postcode" style="display: block; margin-bottom: 0.5rem; font-weight: bold; color: #333;">Postcode</label>
                            <input type="text" name="postcode" id="postcode" placeholder="Enter your postcode" style="width: 100%; padding: 0.8rem; border: 1px solid #ddd; border-radius: 0.5rem; font-size: 1rem;">
                        </div>

                        <button type="submit" class="button aurora" style="background-color: #0057B7; color: white; padding: 1rem; border: none; border-radius: 0.5rem; font-size: 1.1rem; font-weight: bold; cursor: pointer; margin-top: 0.5rem;">Find Tutors</button>
                    </form>
                </div>
            </div>
        </section>

        <!-- PARENT RESOURCES: Full-width section -->
        <section class="parents-zone-section fade-in-section">
            <div class="zone-gradient-bg parent-gradient-bg" style="background: linear-gradient(135deg, #0057B7 0%, #003A7A 100%);">
                <div class="zone-list-row">
                    <div class="parent-box curve-bottom-left">
                        <h2 style="color: #FFFFFF; text-shadow: 0 1px 3px rgba(0,0,0,0.2);">üë®‚Äçüë©‚Äçüëß‚Äçüë¶ Resources for Parents</h2>
                        <p style="color: #F0F8FF; font-weight: 500; margin-bottom: 1.5rem;">Helpful documents, links, and study aids for parents and students.</p>
                        <ul class="parent-list" style="text-align:center; max-width: 600px; margin: 1.5rem auto; list-style-type: none; padding-left: 0;">
                            <li style="margin-bottom: 0.8rem; padding: 0.8rem; background-color: rgba(255,255,255,0.8); border-radius: 0.5rem; font-weight: 500;">üîç Resource A (PDF)</li>
                            <li style="margin-bottom: 0.8rem; padding: 0.8rem; background-color: rgba(255,255,255,0.8); border-radius: 0.5rem; font-weight: 500;">‚úÖ Resource B (Website)</li>
                            <li style="margin-bottom: 0.8rem; padding: 0.8rem; background-color: rgba(255,255,255,0.8); border-radius: 0.5rem; font-weight: 500;">üìö Resource C (Study Guide)</li>
                            <li style="margin-bottom: 0.8rem; padding: 0.8rem; background-color: rgba(255,255,255,0.8); border-radius: 0.5rem; font-weight: 500;">üí° Resource D (Learning Tips)</li>
                        </ul>
                        <div class="button-group">
                            <a class="button aurora" href="#" style="background-color: #FFFFFF; color: #0057B7; font-weight: bold;">View All Resources</a>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- EXPERT ADVICE: Two-column content -->
        <section class="two-col-content fade-in-section">
            <div>
                <h2>Expert Advice</h2>
                <p>
                    Articles and videos from experienced educators on exam prep, learning styles, and more.
                    Our experts provide valuable insights to help your child succeed academically.
                </p>
                <a href="#" class="button aurora">See Our Latest Advice</a>
            </div>
            <div>
                <img src="/images/tutor0.jpg" alt="Expert advice" />
            </div>
        </section>

        <!-- AWARENESS DAYS: Full-width section -->
        <section class="tutor-zone-section fade-in-section">
            <div class="zone-gradient-bg tutor-gradient-bg">
                <div class="zone-list-row">
                    <img src="/images/legoLeft.png" alt="Lego Left" class="tutor-img-list tutor-img-list-left" style="position: absolute; left: -97px; top: -27px;">
                    <div class="tutor-box curve-bottom-left">
                        <h2>üìÖ Awareness Days</h2>
                        <p>Keep track of important awareness days (e.g. World Book Day, STEM Week) that can enhance your child's learning experience.</p>
                        <a class="button aurora" href="#">View Calendar</a>
                    </div>
                    <img src="/images/legoRight.png" alt="Lego Right" class="tutor-img-list tutor-img-list-right" style="position: absolute; right:-77px;">
                </div>
            </div>
        </section>

        <!-- FAQ SECTION -->
        <section class="faq-section fade-in-section">
            <div class="faq-overlay-card curve-bottom-right">
                <h2>‚ùì Frequently Asked Questions</h2>
                <div class="faq-container">
                    <div class="faq-item">
                        <h3>How do I verify a tutor's qualifications?</h3>
                        <p>We only accept tutors who are fully qualified teachers. All tutors on our platform have been verified and are PVG-checked for your peace of mind.</p>
                    </div>
                    <div class="faq-item">
                        <h3>What subjects do your tutors cover?</h3>
                        <p>Our tutors cover the subjects of Mathematics and English. You can search for these subjects in our tutor directory.</p>
                    </div>
                    <div class="faq-item">
                        <h3>How much does tutoring cost?</h3>
                        <p>Tutoring rates vary depending on the subject, level, and tutor's experience. You can find detailed pricing information on each tutor's profile.</p>
                    </div>
                </div>
            </div>
        </section>

        <!-- CTA BUTTONS WITH BACKGROUND -->
        <section class="cta-banner fade-in-section">
            <div class="cta-content">
                <div class="cta-buttons">
                    <a class="button aurora" href="tutorDirectory.html">Find a Tutor</a>
                    <a class="button aurora" href="contact.html">Contact Us</a>
                    <a class="button aurora" href="#">View Resources</a>
                </div>
            </div>
        </section>

        <!-- Clear separator before dynamic sections -->
        <div class="dynamic-sections-separator"></div>

        <!-- Dynamic sections will be added here -->
        <section id="dynamicSections"></section>
    </main>

    <!-- SOCIAL ICONS FOOTER -->
    <footer class="site-footer fade-in-section">
        <div class="footer-icons">
            <a href="#" aria-label="Pinterest"><i class="fab fa-pinterest-p"></i></a>
            <a href="#" aria-label="LinkedIn"><i class="fab fa-linkedin-in"></i></a>
            <a href="#" aria-label="Instagram"><i class="fab fa-instagram"></i></a>
            <a href="#" aria-label="Facebook"><i class="fab fa-facebook-f"></i></a>
            <a href="#" aria-label="Twitter"><i class="fab fa-twitter"></i></a>
        </div>
    </footer>

    <!-- STATIC BOTTOM FOOTER -->
    <footer class="static-footer">
        <div class="static-footer-container">
            <div class="static-footer-left">
                <h4>Extra Information</h4>
                <ul>
                    <li><a href="tutoring-standards.html">Our Tutoring Standards</a></li>
                    <li><a href="faq.html">FAQ's</a></li>
                    <li><a href="privacy-policy.html">Privacy Policy</a></li>
                    <li><a href="safeguarding-policy.html">Safeguarding Policy</a></li>
                    <li><a href="terms-and-conditions.html">Terms and Conditions</a></li>
                </ul>
                <div class="static-footer-copyright">
                    <p>ALL RIGHTS RESERVED ¬© Tutors Alliance Scotland 2023</p>
                    <p>Tutors Alliance Scotland is VAT registered</p>
                    <p>VAT No 429 8003 10</p>
                </div>
                <div class="static-footer-credits">
                    <p>Website by <a href="#" target="_blank">Tutors Alliance Scotland</a></p>
                </div>
            </div>
            <div class="static-footer-right">
                <div class="business-insurance">
                    <img src="/images/centralShield.png" alt="Business Insurance" class="insurance-logo">
                    <p>Business Insurance provided through Tutors Alliance Scotland</p>
                    <a href="#" class="insurance-link">View our insurance details</a>
                </div>
                <div class="website-url">
                    <p>www.tutorsalliancescotland.org.uk</p>
                </div>
            </div>
        </div>
    </footer>

    <!-- Font Awesome for social icons -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" />

    <script>
        // Rolling banner fetch
        fetch('/api/tutors?format=json')
            .then(res => res.json())
            .then(tutors => {
                const text = tutors.map(t => `${t.name} (${t.subjects.join(', ')})`).join(' | ');
                document.getElementById('tutorBanner').innerText = text;
            })
            .catch(err => console.error('Error fetching tutors:', err));

        // Fade-in animation for sections
        const fadeEls = document.querySelectorAll('.fade-in-section');

        // Set initial styles
        fadeEls.forEach(el => {
            el.style.opacity = '0';
            el.style.transform = 'translateY(20px)';
        });

        // Create the Intersection Observer
        const observer = new IntersectionObserver((entries, obs) => {
            entries.forEach(entry => {
                if (entry.isIntersecting) {
                    // Fade it in
                    entry.target.style.transition = 'opacity 0.3s ease-out, transform 0.3s ease-out';
                    entry.target.style.opacity = '1';
                    entry.target.style.transform = 'translateY(0)';

                    // Once triggered, stop observing so it doesn't re-animate if user scrolls away
                    obs.unobserve(entry.target);
                }
            });
        }, { threshold: 0.1 }); // threshold=0.1 => trigger at 10% visibility

        // Observe each fadeEl
        fadeEls.forEach(el => observer.observe(el));

        // Show/hide postcode container
        document.getElementById('mode').addEventListener('change', function () {
            const postcodeContainer = document.getElementById('postcodeContainer');
            if (this.value === 'in-person') {
                postcodeContainer.style.display = 'block';
            } else {
                postcodeContainer.style.display = 'none';
            }
        });

        // Handle form submission
        document.getElementById('tutorFinderForm').addEventListener('submit', function (event) {
            event.preventDefault();
            const subject = document.getElementById('subject').value;
            const mode = document.getElementById('mode').value;
            let postcode = document.getElementById('postcode').value;

            if (postcode) {
                postcode = postcode.toUpperCase();
            }

            let queryParams = `?subject=${encodeURIComponent(subject)}&mode=${encodeURIComponent(mode)}`;
            if (mode === "in-person" && postcode.trim() !== "") {
                queryParams += `&postcode=${encodeURIComponent(postcode)}`;
            }
            window.location.href = `/tutors/search${queryParams}`;
        });

        // Single Intersection Observer for all fade-in elements
        const fadeObserver = new IntersectionObserver((entries) => {
            entries.forEach(entry => {
                if (entry.isIntersecting) {
                    entry.target.classList.add('is-visible');
                    fadeObserver.unobserve(entry.target);
                }
            });
        }, {
            root: null,
            rootMargin: '0px',
            threshold: 0.1
        });

        // Function to observe all fade-in elements
        function observeFadeElements() {
            // Observe all sections with fade-in-section class
            document.querySelectorAll('.fade-in-section').forEach(section => {
                fadeObserver.observe(section);
            });
        }

        // Initial observation when DOM is loaded
        document.addEventListener('DOMContentLoaded', () => {
            observeFadeElements();
        });

        // Watch for dynamically added content
        const mutationObserver = new MutationObserver((mutations) => {
            mutations.forEach((mutation) => {
                if (mutation.addedNodes.length) {
                    observeFadeElements();
                }
            });
        });

        // Start observing the document body for changes
        mutationObserver.observe(document.body, {
            childList: true,
            subtree: true
        });
    </script>

    <!-- Footer fade-in is now controlled by the About Us section animation -->
    <script>
        // Synchronize footer fade-in with the About Us section fade-in
        document.addEventListener('DOMContentLoaded', () => {
            // Get the About Us section (the first two-col-content section)
            const aboutUsSection = document.querySelector('.two-col-content.fade-in-section');
            const socialFooter = document.querySelector('.site-footer');

            if (aboutUsSection && socialFooter) {
                // Initially hide the social footer completely
                socialFooter.style.opacity = '0';
                socialFooter.style.transition = 'opacity 0.5s ease-out';

                // Create an observer specifically for the About Us section
                const aboutUsObserver = new IntersectionObserver((entries) => {
                    entries.forEach(entry => {
                        if (entry.isIntersecting) {
                            // When About Us section becomes visible, add the is-visible class
                            aboutUsSection.classList.add('is-visible');

                            // Wait for the About Us animation to complete before showing the footer
                            // Get the computed transition duration from CSS
                            const aboutUsStyle = window.getComputedStyle(aboutUsSection);
                            const transitionDuration = parseFloat(aboutUsStyle.transitionDuration) * 1000 || 500;

                            // Add a small buffer to ensure the About Us animation completes first
                            setTimeout(() => {
                                socialFooter.style.opacity = '1';
                            }, transitionDuration + 200);

                            // Stop observing once triggered
                            aboutUsObserver.unobserve(entry.target);
                        }
                    });
                }, { threshold: 0.3 }); // Trigger when 30% of the About Us section is visible

                // Start observing the About Us section
                aboutUsObserver.observe(aboutUsSection);
            }
        });
    </script>

    <script type="module">
        const page = location.pathname.replace(/^\//, '').split('.')[0] || 'index';

        fetch(`/api/sections?page=${page}`)
            .then(r => r.json())
            .then(list => {
                if (list && list.length > 0) {
                    // Only show the dynamic sections container if there are sections to display
                    const host = document.getElementById('dynamicSections');

                    // Clear any existing content
                    host.innerHTML = '';

                    // Add each section with proper spacing and styling
                    list.forEach((s, index) => {
                        host.insertAdjacentHTML('beforeend', `
                          <article class="dyn-block fade-in-section" style="transition-delay: ${index * 0.1}s">
                            ${s.image ? `<img src="${s.image}" alt="${s.heading}" loading="lazy">` : ''}
                            <h2>${s.heading}</h2>
                            <div class="dyn-content">${s.text}</div>
                          </article>`);
                    });
                }
            })
            .catch(console.error);
    </script>
</body>
</html>
