<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Contact Tutors Alliance Scotland</title>
    <link rel="icon" href="/images/bannerShield2.png" type="image/png">
    <link rel="stylesheet" href="/styles2.css">
    <link rel="stylesheet" href="/header-banner.css">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <script src="/responsive-helper.js"></script>
    <script src="/js/dynamic-nav.js" defer></script>
</head>
<body class="contact-page">
    <!-- Shared banner/header -->
    <header>
        <h1>Tutors Alliance Scotland</h1>
        <div class="header-links">
            <a href="/" class="banner-login-link login-box">Home</a>
            <a href="login.html?role=admin" class="banner-login-link login-box">Login</a>
        </div>
    </header>

    <!-- Dark-blue nav below banner -->
    <nav class="main-nav">
        <ul>
            <li><a href="about-us.html">About Us</a></li>
            <li><a href="tutorMembership.html">Tutor Membership</a></li>
            <li><a href="parents.html">Enter Parent Zone</a></li>
            <li><a href="contact.html">Contact Us</a></li>
            <li><a href="/blog">Blog</a></li>
            <li><a href="tutorDirectory.html">Tutor Directory</a></li>
        </ul>
    </nav>

    <!-- Rolling banner container -->
    <div class="rolling-banner">
        <div class="rolling-content" id="tutorBanner">
            <!-- JS will populate tutor names/subjects here -->
        </div>
    </div>

    <main>
        <div class="mission-row">
            <!-- LEFT COLUMN: Shield + Ribbons -->
            <div class="left-col">
                <img src="/images/centralShield.png" alt="Large STA Shield" class="main-shield" id="imageShield">
                <img src="/images/bannerWithRibbons.png" alt="Banner Ribbon" class="main-ribbons" id="imageBanner">
            </div>

            <!-- RIGHT COLUMN: heading + about-us text -->
            <div class="right-col">
                <div class="about-us-landing" id="aboutUsLanding">
                    <h1 class="mission-statement">Contact Us</h1>
                </div>
            </div>
        </div>

        <!-- TOP dynamic sections container -->
        <section id="dynamicSectionsTop" class="dynamic-section-container"></section>

        <!-- CONTACT INFO: Two-column content -->
        <section class="two-col-content fade-in-section">
            <div>
                <h2>Get in Touch</h2>
                <p>
                    We'd love to hear from you! Whether you have questions about our services, want to join as a tutor, or need help finding the right educational support for your child, our team is here to help.
                </p>
                <p>
                    <strong>Email:</strong>
                    <a href="mailto:info@scottishtutors.org">info@scottishtutors.org</a><br>
                    <strong>Phone (Office):</strong> 0123 456 789 (Fake)<br>
                    <strong>Phone (Mobile):</strong> 07123 456789 (Fake)
                </p>
                <a href="tutorMembership.html" class="button aurora">Join as a Tutor</a>
            </div>
            <div>
                <img src="/images/tutor0.jpg" alt="Tutoring in action" />
            </div>
        </section>

        <!-- MIDDLE dynamic sections container -->
        <section id="dynamicSectionsMiddle" class="dynamic-section-container"></section>

        <!-- HERO: Full-width background image with overlay text -->
        <section class="hero-banner fade-in-section">
            <div class="hero-content">
                <h1>Connect With Us</h1>
                <p>We're here to support tutors and families across Scotland.</p>
                <a class="button aurora" href="tutorDirectory.html">Find a Tutor</a>
            </div>
        </section>

        <!-- Clear separator before bottom dynamic sections -->
        <div class="dynamic-sections-separator"></div>

        <!-- BOTTOM dynamic sections container -->
        <section id="dynamicSections" class="dynamic-section-container"></section>

        <div style="clear: both; width: 100%; height: 50px;"></div>
    </main>

    <div class="dynamic-sections-separator"></div>

    <!-- SOCIAL ICONS FOOTER -->
    <footer class="site-footer fade-in-section">
        <div class="footer-icons">
            <a href="#" aria-label="Pinterest"><i class="fab fa-pinterest-p"></i></a>
            <a href="#" aria-label="LinkedIn"><i class="fab fa-linkedin-in"></i></a>
            <a href="#" aria-label="Instagram"><i class="fab fa-instagram"></i></a>
            <a href="#" aria-label="Facebook"><i class="fab fa-facebook-f"></i></a>
            <a href="#" aria-label="Twitter"><i class="fab fa-twitter"></i></a>
        </div>
    </footer>

    <!-- STATIC BOTTOM FOOTER -->
    <footer class="static-footer">
        <div class="static-footer-container">
            <div class="static-footer-left">
                <h4>Extra Information</h4>
                <ul>
                    <li><a href="tutoring-standards.html">Our Tutoring Standards</a></li>
                    <li><a href="faq.html">FAQ's</a></li>
                    <li><a href="privacy-policy.html">Privacy Policy</a></li>
                    <li><a href="safeguarding-policy.html">Safeguarding Policy</a></li>
                    <li><a href="terms-and-conditions.html">Terms and Conditions</a></li>
                </ul>
                <div class="static-footer-copyright">
                    <p>ALL RIGHTS RESERVED Â© Tutors Alliance Scotland 2023</p>
                    <p>Tutors Alliance Scotland is VAT registered</p>
                    <p>VAT No 429 8003 10</p>
                </div>
                <div class="static-footer-credits">
                    <p>Website by <a href="#" target="_blank">Tutors Alliance Scotland</a></p>
                </div>
            </div>
            <div class="static-footer-right">
                <div class="business-insurance">
                    <img src="/images/centralShield.png" alt="Business Insurance" class="insurance-logo">
                    <p>Business Insurance provided through Tutors Alliance Scotland</p>
                    <a href="#" class="insurance-link">View our insurance details</a>
                </div>
                <div class="website-url">
                    <p>www.tutorsalliancescotland.org.uk</p>
                </div>
            </div>
        </div>
    </footer>

    <!-- Font Awesome for social icons -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" />

    <script>
        // Rolling banner fetch
        fetch('/api/tutors?format=json')
            .then(res => res.json())
            .then(tutors => {
                const text = tutors.map(t => `${t.name} (${t.subjects.join(', ')})`).join(' | ');
                document.getElementById('tutorBanner').innerText = text;
            })
            .catch(err => console.error('Error fetching tutors:', err));

        // Fade-in animation for sections
        const fadeEls = document.querySelectorAll('.fade-in-section');

        // Set initial styles
        fadeEls.forEach(el => {
            el.style.opacity = '0';
            el.style.transform = 'translateY(20px)';
        });

        // Create the Intersection Observer
        const observer = new IntersectionObserver((entries, obs) => {
            entries.forEach(entry => {
                if (entry.isIntersecting) {
                    // Fade it in
                    entry.target.style.transition = 'opacity 0.3s ease-out, transform 0.3s ease-out';
                    entry.target.style.opacity = '1';
                    entry.target.style.transform = 'translateY(0)';

                    // Once triggered, stop observing so it doesn't re-animate if user scrolls away
                    obs.unobserve(entry.target);
                }
            });
        }, { threshold: 0.1 }); // threshold=0.1 => trigger at 10% visibility

        // Observe each fadeEl
        fadeEls.forEach(el => observer.observe(el));

        // Single Intersection Observer for all fade-in elements
        const fadeObserver = new IntersectionObserver((entries) => {
            entries.forEach(entry => {
                if (entry.isIntersecting) {
                    entry.target.classList.add('is-visible');
                    fadeObserver.unobserve(entry.target);
                }
            });
        }, {
            root: null,
            rootMargin: '0px',
            threshold: 0.1
        });

        // Function to observe all fade-in elements
        function observeFadeElements() {
            // Observe all sections with fade-in-section class
            document.querySelectorAll('.fade-in-section').forEach(section => {
                fadeObserver.observe(section);
            });
        }

        // Initial observation when DOM is loaded
        document.addEventListener('DOMContentLoaded', () => {
            observeFadeElements();
        });

        // Watch for dynamically added content
        const mutationObserver = new MutationObserver((mutations) => {
            mutations.forEach((mutation) => {
                if (mutation.addedNodes.length) {
                    observeFadeElements();
                }
            });
        });

        // Start observing the document body for changes
        mutationObserver.observe(document.body, {
            childList: true,
            subtree: true
        });
    </script>

    <!-- Footer fade-in is now controlled by the About Us section animation -->
    <script>
        // Synchronize footer fade-in with the About Us section fade-in
        document.addEventListener('DOMContentLoaded', () => {
            // Get the About Us section (the first two-col-content section)
            const aboutUsSection = document.querySelector('.two-col-content.fade-in-section');
            const socialFooter = document.querySelector('.site-footer');

            if (aboutUsSection && socialFooter) {
                // Initially hide the social footer completely
                socialFooter.style.opacity = '0';
                socialFooter.style.transition = 'opacity 0.5s ease-out';

                // Create an observer specifically for the About Us section
                const aboutUsObserver = new IntersectionObserver((entries) => {
                    entries.forEach(entry => {
                        if (entry.isIntersecting) {
                            // When About Us section becomes visible, add the is-visible class
                            aboutUsSection.classList.add('is-visible');

                            // Wait for the About Us animation to complete before showing the footer
                            // Get the computed transition duration from CSS
                            const aboutUsStyle = window.getComputedStyle(aboutUsSection);
                            const transitionDuration = parseFloat(aboutUsStyle.transitionDuration) * 1000 || 500;

                            // Add a small buffer to ensure the About Us animation completes first
                            setTimeout(() => {
                                socialFooter.style.opacity = '1';
                            }, transitionDuration + 200);

                            // Stop observing once triggered
                            aboutUsObserver.unobserve(entry.target);
                        }
                    });
                }, { threshold: 0.3 }); // Trigger when 30% of the About Us section is visible

                // Start observing the About Us section
                aboutUsObserver.observe(aboutUsSection);
            }
        });
    </script>

    <!-- Load dynamic sections from the shared module -->
    <script type="module" src="/js/dynamic-sections.js"></script>
</body>
</html>
