<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>About Tutor Scotland</title>
    <link rel="icon" href="/images/bannerShield2.png" type="image/png">
    <link rel="stylesheet" href="style.css">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <script src="/responsive-helper.js"></script>
    <!-- JSON-LD microdata for the About Page -->
    <script type="application/ld+json">
        {
          "@context": "https://schema.org",
          "@type": "AboutPage",
          "url": "https://tutorsalliancescotland.co.uk/about-us.html",
          "name": "About Tutors Alliance Scotland",
          "description": "Our mission is to create a recognised standard of excellence in tutoring while ensuring that every child, regardless of background or financial situation, has access to high-quality educational support.",
          "mainEntity": {
            "@type": "EducationalOrganization",
            "name": "Tutors Alliance Scotland",
            "url": "https://tutorsalliancescotland.co.uk",
            "foundingDate": "2025-03-27",
            "founder": {
              "@type": "Person",
              "name": "Karen Simpson"
            },
            "logo": "https://tutorsalliancescotland.co.uk/images/centralShield.png",
            "description": "Through accreditation, professional development, partnerships, and community collaboration, we aim to bridge the attainment gap and empower students to reach their full potential."
          }
        }
    </script>
</head>
<body class="about-page">
    <!-- Shared banner/header -->
    <header>
        <h1>Tutors Alliance Scotland</h1>
        <div class="header-links">
            <a href="index.html" class="banner-login-link login-box">Home</a>
            <a href="login.html?role=admin" class="banner-login-link login-box">Login</a>
        </div>
    </header>

    <!-- Dark-blue nav below banner -->
    <nav class="main-nav">
        <ul>
            <li><a href="about-us.html">About Us</a></li>
            <li><a href="tutorMembership.html">Tutor Membership</a></li>
            <li><a href="parents.html">Enter Parent Zone</a></li>
            <li><a href="contact.html">Contact Us</a></li>
            <li><a href="/blog">Blog</a></li>
            <li><a href="tutorDirectory.html">Tutor Directory</a></li>
        </ul>
    </nav>


    <!-- Rolling banner container -->
    <div class="rolling-banner">
        <div class="rolling-content" id="tutorBanner">
            <!-- JS will populate tutor names/subjects here -->
        </div>
    </div>


    <main>
        <div class="content-flex-wrapper">
            <div class="left-col">
                <img src="/images/centralShield.png" alt="Large STA Shield" class="main-shield" id="imageShield">
                <img src="/images/bannerWithRibbons.png" alt="Banner Ribbon" class="main-ribbons" id="imageBanner">
            </div>


            <div class="about-content">
                <h2 class="lilac-heading">About the Tutors Alliance Scotland</h2>
                <div class="about-paragraph">
                    <p>
                        Our mission is to create a recognised standard of excellence in tutoring while ensuring that every child, regardless of background or financial situation, has access to high-quality educational support. Through accreditation, professional development, partnerships and community collaboration, we aim to bridge the attainment gap and empower students to reach their full potential.
                    </p>
                </div>
            </div>
        </div>

        <!-- Clear separator before dynamic sections -->
        <div class="dynamic-sections-separator"></div>

        <!-- Dynamic sections will be added here -->
        <section id="dynamicSections"></section>
    </main>

    <script>
        // Fade-in animation for sections
        const fadeEls = document.querySelectorAll('.fade-in-on-scroll');

        // Set initial styles
        fadeEls.forEach(el => {
            el.style.opacity = '0';
            el.style.transform = 'translateY(20px)';
        });

        // Create the Intersection Observer
        const observer = new IntersectionObserver((entries, obs) => {
            entries.forEach(entry => {
                if (entry.isIntersecting) {
                    // Fade it in
                    entry.target.style.transition = 'opacity 0.3s ease-out, transform 0.3s ease-out';
                    entry.target.style.opacity = '1';
                    entry.target.style.transform = 'translateY(0)';

                    // Once triggered, stop observing so it doesn't re-animate if user scrolls away
                    obs.unobserve(entry.target);
                }
            });
        }, { threshold: 0.1 }); // threshold=0.1 => trigger at 10% visibility

        // Observe each fadeEl
        fadeEls.forEach(el => observer.observe(el));
    </script>

    <script type="module">
        const page = location.pathname.replace(/^\//, '').split('.')[0] || 'index';

        fetch(`/api/sections?page=${page}`)
            .then(r => r.json())
            .then(list => {
                if (list && list.length > 0) {
                    // Only show the dynamic sections container if there are sections to display
                    const host = document.getElementById('dynamicSections');

                    // Clear any existing content
                    host.innerHTML = '';

                    // Add each section with proper spacing and styling
                    list.forEach((s, index) => {
                        host.insertAdjacentHTML('beforeend', `
                          <article class="dyn-block fade-in-on-scroll" style="transition-delay: ${index * 0.1}s">
                            ${s.image ? `<img src="${s.image}" alt="${s.heading}" loading="lazy">` : ''}
                            <h2>${s.heading}</h2>
                            <div class="dyn-content">${s.text}</div>
                          </article>`);
                    });

                    // Make sure the dynamic sections container is visible
                    host.style.display = 'block';

                    // Ensure the separator is visible
                    document.querySelector('.dynamic-sections-separator').style.display = 'block';

                    // Force layout recalculation to ensure proper positioning
                    document.body.offsetHeight;

                    // Apply observer to newly created elements
                    document
                        .querySelectorAll('.dyn-block.fade-in-on-scroll')
                        .forEach(el => observer.observe(el));
                } else {
                    // If no dynamic sections, hide the container and separator
                    const host = document.getElementById('dynamicSections');
                    host.style.display = 'none';
                    document.querySelector('.dynamic-sections-separator').style.display = 'none';
                }
            })
            .catch(error => {
                console.error('Error loading dynamic sections:', error);
                // Hide the container and separator on error
                document.getElementById('dynamicSections').style.display = 'none';
                document.querySelector('.dynamic-sections-separator').style.display = 'none';
            });
    </script>

</body>
</html>
